<%- include("include/header") %>
<!-- header ends here -->

<div class="container py-md-5">
  <%- include('include/flash') %>
  
  <!-- App Intro Hero Section -->
  <div class="app-hero-intro">
    <div class="hero-content">
      <div class="hero-badge">
        <i class="fas fa-rocket"></i> Тавтай морил, <%= user.username %>!
      </div>
      <h1 class="hero-title">Холбогдох. Бүтээх. Тэмдэглэх.</h1>
      <p class="hero-description">
        Гайхалтай үйл явдлууд зохион байгуулж, найз нөхөдтэйгөө холбогдох нийгмийн төв. 
        Мартагдашгүй дурсамж бүтээж, сонирхолтой үйл ажиллагаа олж, өөрийн хамт олноо бүтээгээрэй.
      </p>
      <div class="hero-stats">
        <div class="stat-item">
          <i class="fas fa-calendar-check"></i>
          <span class="stat-number">Үйл явдал</span>
        </div>
        <div class="stat-item">
          <i class="fas fa-users"></i>
          <span class="stat-number">Найзууд</span>
        </div>
        <div class="stat-item">
          <i class="fas fa-bell"></i>
          <span class="stat-number">Шууд</span>
        </div>
      </div>
    </div>
  </div>

  <div class="dashboard-quick-actions">
    <a href="/create-event" class="quick-action-card">
      <div class="quick-action-icon">
        <i class="fas fa-plus-circle"></i>
      </div>
      <h3>Create event</h3>
      <p>Organize a new event</p>
    </a>
    
    <a href="/events" class="quick-action-card">
      <div class="quick-action-icon">
        <i class="fas fa-calendar-alt"></i>
      </div>
  <h3>Event</h3>
      <p>Browse and join events</p>
    </a>
    
    <a href="/profile/<%= user.username %>" class="quick-action-card">
      <div class="quick-action-icon">
        <i class="fas fa-user"></i>
      </div>
      <h3>Миний профайл</h3>
      <p>Профайл болон үйл явдлууд</p>
    </a>
  </div>

  <div class="dashboard-content">
    <% if (events && events.length) { %>
    <h2 class="section-title">
      <i class="fas fa-fire"></i> Сүүлийн үеийн үйл явдлууд
    </h2>
    <div class="events-grid-compact">
      <% events.forEach(function(event) { %>
      <a href="/event/<%= event._id %>" class="event-card-compact">
        <div class="event-compact-header">
          <span class="event-status-mini <%= event.isFull ? 'status-full' : 'status-open' %>">
            <%= event.isFull ? 'Дүүрсэн' : 'Нээлттэй' %>
          </span>
          <span class="event-capacity-mini">
            <i class="fas fa-users"></i> <%= event.participants.length %>/<%= event.capacity %>
          </span>
        </div>
        <h4><i class="fas fa-star"></i> <%= event.name %></h4>
        <p class="event-compact-location">
          <i class="fas fa-map-marker-alt"></i> <%= event.location %>
        </p>
        <p class="event-compact-date">
          <i class="fas fa-clock"></i> <%= new Date(event.eventDate).toLocaleDateString() %>
        </p>
        <div class="event-compact-progress">
          <div class="event-compact-progress-bar" style="width: <%= (event.participants.length / event.capacity) * 100 %>%"></div>
        </div>
      </a>
      <% }) %>
    </div>
    <div class="text-center mt-4">
      <a href="/events" class="btn btn-primary btn-lg">
        <i class="fas fa-calendar-alt"></i> Бүх үйл явдлыг үзэх
      </a>
    </div>
      <% } else { %>
  <div class="empty-state">
    <i class="fas fa-calendar-times fa-5x text-muted mb-3"></i>
    <h3>No events available</h3>
  </div>
  <% } %>
  </div>
</div>

<!-- footer begins -->
<%- include('include/footer') %>
